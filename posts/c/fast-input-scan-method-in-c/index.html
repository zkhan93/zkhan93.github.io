<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Faster Input Scan Method in C | Zeeshan Khan</title>
<meta name=keywords content="c,fast scan">
<meta name=description content="Sometimes we need to scan input really fast like when we are participating in coding competitions like codechef or SPOJ where the time limit is very strict and inputs are large, we can save some time by adopting faster scanning methods.
We can achieve our gaol using getchar_unlocked function.
code below scans 100000 integers and has two different methods one is scan_normal() this will scan integers using standard scanf() function and the other one is scan_fast() this scan integers using getchar_unlocked function, we will execute the program twice one for each method mark the time taken for execution to evaluate the performance.">
<meta name=author content="Zeeshan Khan">
<link rel=canonical href=https://zkhan.in/posts/c/fast-input-scan-method-in-c/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://zkhan.in/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://zkhan.in/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://zkhan.in/favicon-32x32.png>
<link rel=apple-touch-icon href=https://zkhan.in/apple-touch-icon.png>
<link rel=mask-icon href=https://zkhan.in/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.4">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Faster Input Scan Method in C">
<meta property="og:description" content="Sometimes we need to scan input really fast like when we are participating in coding competitions like codechef or SPOJ where the time limit is very strict and inputs are large, we can save some time by adopting faster scanning methods.
We can achieve our gaol using getchar_unlocked function.
code below scans 100000 integers and has two different methods one is scan_normal() this will scan integers using standard scanf() function and the other one is scan_fast() this scan integers using getchar_unlocked function, we will execute the program twice one for each method mark the time taken for execution to evaluate the performance.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://zkhan.in/posts/c/fast-input-scan-method-in-c/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2015-01-26T08:03:44+00:00">
<meta property="article:modified_time" content="2015-01-26T08:03:44+00:00"><meta property="og:site_name" content="Zeeshan Khan">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Faster Input Scan Method in C">
<meta name=twitter:description content="Sometimes we need to scan input really fast like when we are participating in coding competitions like codechef or SPOJ where the time limit is very strict and inputs are large, we can save some time by adopting faster scanning methods.
We can achieve our gaol using getchar_unlocked function.
code below scans 100000 integers and has two different methods one is scan_normal() this will scan integers using standard scanf() function and the other one is scan_fast() this scan integers using getchar_unlocked function, we will execute the program twice one for each method mark the time taken for execution to evaluate the performance.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zkhan.in/posts/"},{"@type":"ListItem","position":2,"name":"Faster Input Scan Method in C","item":"https://zkhan.in/posts/c/fast-input-scan-method-in-c/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Faster Input Scan Method in C","name":"Faster Input Scan Method in C","description":"Sometimes we need to scan input really fast like when we are participating in coding competitions like codechef or SPOJ where the time limit is very strict and inputs are large, we can save some time by adopting faster scanning methods.\nWe can achieve our gaol using getchar_unlocked function.\ncode below scans 100000 integers and has two different methods one is scan_normal() this will scan integers using standard scanf() function and the other one is scan_fast() this scan integers using getchar_unlocked function, we will execute the program twice one for each method mark the time taken for execution to evaluate the performance.","keywords":["c","fast scan"],"articleBody":"Sometimes we need to scan input really fast like when we are participating in coding competitions like codechef or SPOJ where the time limit is very strict and inputs are large, we can save some time by adopting faster scanning methods.\nWe can achieve our gaol using getchar_unlocked function.\ncode below scans 100000 integers and has two different methods one is scan_normal() this will scan integers using standard scanf() function and the other one is scan_fast() this scan integers using getchar_unlocked function, we will execute the program twice one for each method mark the time taken for execution to evaluate the performance.\n#include#define gc getchar_unlocked // gc for saving for getchar_unlocked int scan_fast(){ int n=0; char ch=gc(); while(ch  '0' \u0026\u0026 ch '9'){ ch=gc(); // ignoring chars that are not digit \t} while(ch='0' \u0026\u0026 ch'9'){ n=n*10+ch-'0'; // for each digit add it to n in proper place \tch=gc(); } return n; } int scan_normal(){ int n; scanf(\"%d\",\u0026n); return n; } int main(){ int num=1000000; //we have 100000 integers to test \twhile(num--){ //\tscan_normal(); // uncomment this for 1st execution \t//\tscan_fast(); // uncomment this for 2nd execution \t} return 0; } for checking i am using linux time command to check the execution time and a file text-file.txt containing 100000 integers from 0 to 99999\ncommand is as follows\ntime ./scan_methods output using scan_normal\nreal\t0m0.112s user\t0m0.101s sys\t0m0.012s output using scan_fast\nreal\t0m0.040s user\t0m0.033s sys\t0m0.008s ","wordCount":"241","inLanguage":"en","datePublished":"2015-01-26T08:03:44Z","dateModified":"2015-01-26T08:03:44Z","author":{"@type":"Person","name":"Zeeshan Khan"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zkhan.in/posts/c/fast-input-scan-method-in-c/"},"publisher":{"@type":"Organization","name":"Zeeshan Khan","logo":{"@type":"ImageObject","url":"https://zkhan.in/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://zkhan.in/ accesskey=h title="Zeeshan Khan (Alt + H)">Zeeshan Khan</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://zkhan.in/posts/ title=Blog>
<span>Blog</span>
</a>
</li>
<li>
<a href=https://zkhan.in/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=https://zkhan.in/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://zkhan.in/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://zkhan.in/>Home</a>&nbsp;»&nbsp;<a href=https://zkhan.in/posts/>Posts</a></div>
<h1 class=post-title>
Faster Input Scan Method in C
</h1>
<div class=post-meta><span title="2015-01-26 08:03:44 +0000 UTC">January 26, 2015</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Zeeshan Khan
</div>
</header>
<div class=post-content><p>Sometimes we need to scan input really fast like when we are participating in coding competitions like codechef or SPOJ where the time limit is very strict and inputs are large, we can save some time by adopting faster scanning methods.</p>
<p>We can achieve our gaol using <code>getchar_unlocked</code> function.</p>
<p>code below scans 100000 integers and has two different methods one is <code>scan_normal()</code> this will scan integers using standard <code>scanf()</code> function and the other
one is <code>scan_fast()</code> this scan integers using <code>getchar_unlocked</code> function, we will execute the program twice one for each
method mark the time taken for execution to evaluate the performance.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#include</span><span style=color:#75715e>&lt;stdio.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#define gc getchar_unlocked </span><span style=color:#75715e>// gc for saving for getchar_unlocked
</span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>scan_fast</span>(){
	<span style=color:#66d9ef>int</span> n<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
	<span style=color:#66d9ef>char</span> ch<span style=color:#f92672>=</span>gc();
	<span style=color:#66d9ef>while</span>(ch <span style=color:#f92672>&lt;</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> ch <span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;9&#39;</span>){
		ch<span style=color:#f92672>=</span>gc(); <span style=color:#75715e>// ignoring chars that are not digit
</span><span style=color:#75715e></span>	}
	<span style=color:#66d9ef>while</span>(ch<span style=color:#f92672>&gt;=</span><span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> ch<span style=color:#f92672>&lt;=</span><span style=color:#e6db74>&#39;9&#39;</span>){
		n<span style=color:#f92672>=</span>n<span style=color:#f92672>*</span><span style=color:#ae81ff>10</span><span style=color:#f92672>+</span>ch<span style=color:#f92672>-</span><span style=color:#e6db74>&#39;0&#39;</span>; <span style=color:#75715e>// for each digit add it to n in proper place
</span><span style=color:#75715e></span>		ch<span style=color:#f92672>=</span>gc();
	}
	<span style=color:#66d9ef>return</span> n; 
}

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>scan_normal</span>(){
	<span style=color:#66d9ef>int</span> n;
	scanf(<span style=color:#e6db74>&#34;%d&#34;</span>,<span style=color:#f92672>&amp;</span>n);
	<span style=color:#66d9ef>return</span> n;
}

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
	<span style=color:#66d9ef>int</span> num<span style=color:#f92672>=</span><span style=color:#ae81ff>1000000</span>; <span style=color:#75715e>//we have 100000 integers to test
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>while</span>(num<span style=color:#f92672>--</span>){
	<span style=color:#75715e>//	scan_normal(); // uncomment this for 1st execution
</span><span style=color:#75715e></span>	<span style=color:#75715e>//	scan_fast(); // uncomment this for 2nd execution
</span><span style=color:#75715e></span>	}
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}

</code></pre></div><p>for checking i am using linux <code>time</code> command to check the execution time and a file <code>text-file.txt</code> containing 100000 integers from 0 to 99999</p>
<p>command is as follows</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>time ./scan_methods &lt; text-file.txt
</code></pre></div><p>output using <code>scan_normal</code></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>real	0m0.112s
user	0m0.101s
sys	0m0.012s
</code></pre></div><p>output using <code>scan_fast</code></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>real	0m0.040s
user	0m0.033s
sys	0m0.008s
</code></pre></div>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://zkhan.in/tags/c/>c</a></li>
<li><a href=https://zkhan.in/tags/fast-scan/>fast scan</a></li>
</ul>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://zkhan.in/>Zeeshan Khan</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>